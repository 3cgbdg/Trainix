{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/api/axiosInstance.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n    withCredentials: true,\r\n})\r\n\r\n\r\napi.interceptors.response.use(\r\n    response => response,\r\n    async error => {\r\n        const originalReq = error.config;\r\n        if (error.response.status === 401 && !originalReq._retry && !originalReq.url.includes(\"/api/auth/refresh\")) {\r\n            originalReq._retry = true;\r\n            try {\r\n                await api.post(\"/api/auth/refresh\");\r\n                return api(originalReq);\r\n            } catch (err) {\r\n                return Promise.reject(err);\r\n            }\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n)"],"names":[],"mappings":";;;AAGa;AAHb;;AAEO,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC5B,OAAO;IACP,iBAAiB;AACrB;AAGA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAA,WAAY,UACZ,OAAM;IACF,MAAM,cAAc,MAAM,MAAM;IAChC,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,OAAO,CAAC,YAAY,MAAM,IAAI,CAAC,YAAY,GAAG,CAAC,QAAQ,CAAC,sBAAsB;QACxG,YAAY,MAAM,GAAG;QACrB,IAAI;YACA,MAAM,IAAI,IAAI,CAAC;YACf,OAAO,IAAI;QACf,EAAE,OAAO,KAAK;YACV,OAAO,QAAQ,MAAM,CAAC;QAC1B;IACJ;IACA,OAAO,QAAQ,MAAM,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/app/%28auth%29/auth/login/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { api } from \"@/api/axiosInstance\";\r\nimport { useMutation, } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\nimport { Eye, EyeClosed } from \"lucide-react\";\r\nimport Image from \"next/image\"\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\n\r\ntype formType = {\r\n    email: string;\r\n    password: string;\r\n}\r\nconst loginUser = async (data: formType) => {\r\n    const res = await api.post(`/api/auth/login`, data);\r\n    return res.data;\r\n};\r\nconst Page = () => {\r\n    const { register, handleSubmit, formState: {\r\n        errors\r\n    } } = useForm<formType>();\r\n    const router = useRouter();\r\n\r\n    const mutation = useMutation({\r\n        mutationFn: loginUser,\r\n        onSuccess: (data) => {\r\n            if (data.user.weight !== undefined) {\r\n                router.push(\"/dashboard\");\r\n            } else {\r\n                router.push(\"/onboarding\");\r\n\r\n            }\r\n        },\r\n        onError: (error) => {\r\n            console.error(\"Login failed:\", error);\r\n        },\r\n    });\r\n    const [showPassword, setShowPassword] = useState<boolean>(false);\r\n    const onSubmit: SubmitHandler<formType> = async (data) => {\r\n        mutation.mutate(data);\r\n    }\r\n    return (\r\n        <div className=\"p-10 rounded-2xl flex flex-col items-center basis-[460px] grow-0 bg-white _border\">\r\n            <div className=\"   mb-4 \">\r\n                <Image width={120} height={120} alt=\"lock\" src=\"/lock.png\" />\r\n            </div>\r\n            <div className=\"flex items-center mb-4 gap-1 text-green\">\r\n                <div className=\"\">\r\n                    <Image width={48} height={48} src=\"/logo.svg\" alt=\"logo\" />\r\n                </div>\r\n                <span className={` relative top-3 font-borel text-[38px] leading-none  font-bold `}>Trainix</span>\r\n            </div>\r\n            <div className=\"flex flex-col gap-4 text-center mb-4\">\r\n                <h1 className=\"text-neutral-900 leading-8 text-2xl font-bold \">Access Your Fitness Journey</h1>\r\n                <p className=\"text-sm leading-5 text-neutral-600 \">Login or create an account to personalize your fitness with AI.</p>\r\n            </div>\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"w-full flex flex-col gap-4 mb-4\">\r\n                <div className=\"flex flex-col gap-2\">\r\n                    <label className=\"text-sm leading-[22px] font-medium\" htmlFor=\"email\">Email</label>\r\n                    <input   {...register(\"email\", {\r\n                        validate: {\r\n                            // validating email format with regex\r\n                            isValidEmailForm: (value) => {\r\n                                if (!value) return true;\r\n                                return /^\\w+@\\w+\\.\\w{2,3}$/.test(value) || \"Wrong email format\";\r\n                            },\r\n                            isEmpty: (value) => {\r\n                                return value.length !== 0 || \"Field is required\";\r\n                            },\r\n                        }\r\n                    })} className=\"input w-full\" placeholder=\"Enter your email\" type=\"text\" id=\"email\" />\r\n                    {errors.email && (\r\n                        <span data-testid='error' className=\"text-red-500 font-medium \">\r\n                            {errors.email.message}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n                <div className=\"flex flex-col gap-2\">\r\n                    <label className=\"text-sm leading-[22px] font-medium\" htmlFor=\"password\">Password</label>\r\n                    <input {...register(\"password\", {\r\n                        validate: {\r\n                            password: (value) => /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(value) || \"Password must have at least one lowercase, one uppercase, one digit and minimum 8 characters\",\r\n                        }\r\n                    })} className=\"input w-full\" placeholder=\"Enter your password\" type={`${showPassword ? \"text\" : \"password\"}`} id=\"password\" />\r\n                    {errors.password && (\r\n                        <span data-testid='error' className=\"text-red-500 font-medium \">\r\n                            {errors.password.message}\r\n                        </span>\r\n                    )}\r\n                    <button type=\"button\" onClick={() => setShowPassword(!showPassword)} className=\"ml-2 cursor-pointer transition-all hover:text-green w-fit flex items-center text-sm gap-1\"> {!showPassword ? <>Show password <Eye size={18} /></> : <>Unshow password <EyeClosed size={18} /></>}</button>\r\n                </div>\r\n                <button className=\"button-green\">Login</button>\r\n            </form>\r\n            <Link href={\"/auth/signup\"} className=\"w-full button-transparent hover:underline\">Sign Up</Link>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Page"],"names":[],"mappings":"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","debugId":null}}]
}