{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/ai-analysis/AnalyzedResults.tsx"],"sourcesContent":["\"use client\"\r\nconst AnalyzedResults = () => {\r\n  return (\r\n    <div></div>\r\n  )\r\n}\r\n\r\nexport default AnalyzedResults"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,kBAAkB;IACtB,qBACE,6LAAC;;;;;AAEL;KAJM;uCAMS","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/ai-analysis/UploadPhoto.tsx"],"sourcesContent":["\"use client\"\r\nimport { UseMutateFunction } from '@tanstack/react-query';\r\nimport { UploadIcon } from 'lucide-react';\r\nimport { Dispatch, SetStateAction, useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nconst UploadPhoto = ({ isPending, setFileName, fileName, setFile, file, mutate }: { mutate: UseMutateFunction<any, Error, File, unknown>, isPending: boolean, setFileName: Dispatch<SetStateAction<string>>, fileName: string, setFile: Dispatch<SetStateAction<File | null>>, file: File | null }) => {\r\n    const onDrop = useCallback((acceptedFiles: File[]) => {\r\n        if (acceptedFiles.length > 0) {\r\n            setFileName(acceptedFiles[0].name);\r\n            setFile(acceptedFiles[0]);\r\n        }\r\n    }, []);\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n    return (\r\n        <div className=\"flex flex-col items-center \">\r\n            <div className=\"w-[900px] text-center\">\r\n                <h1 className='page-title mb-10'>AI Photo Analysis - Upload</h1>\r\n\r\n                <div className=\"_border rounded-[10px] p-12 items-center flex flex-col mb-4    bg-white\">\r\n                    <div className=\"flex flex-col text-center gap-2 max-w-[520px] w-full mb-10\">\r\n                        <h2 className='section-title'>Upload Your Fitness Photo</h2>\r\n                        <p className='text-sm leading-5 text-neutral-600'>Drag and drop your fitness photo here, or click to select a file. Our AI will analyze your progress and provide insights.</p>\r\n                    </div>\r\n\r\n                    <div\r\n                        {...getRootProps()}\r\n                        className={` border-2 border-dashed ${isPending ? \"skeleton\" : \"\"}  border-neutral-600 outline-0 rounded-[10px] max-w-[800px] w-full h-[288px] px-10 py-[50px] mb-[25px] text-center cursor-pointer transition hover:border-green`}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        {!isPending ? <> <div className=\"flex flex-col items-center justify-center\">\r\n                            <UploadIcon className='text-neutral-600 mb-4.5' size={64} />\r\n                            <p className=\"text-neutral-600 font-medium\">\r\n                                {isDragActive ? 'Drop the file here...' : 'Drag and drop your photo here'}\r\n                            </p>\r\n                            <span className=\"text-sm leading-5 mt-2 text-neutral-600\">– or –</span>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"mt-4 inline-flex items-center p-2.5 border border-neutral-300 cursor-pointer text-sm font-medium rounded-md text-neutral-900 leading-5.5 bg-transparent hover:bg-gray-100\"\r\n                            >\r\n                                Browse Files\r\n                            </button>\r\n                            {fileName && (\r\n                                <p className={`mt-4 text-sm text-green-500`}>Selected: {fileName}</p>\r\n                            )}\r\n                        </div></> : <div className=\"h-full flex items-center\"><div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-green border-solid mx-auto  \"></div></div>}\r\n\r\n                    </div>\r\n\r\n                    <p className=\"text-sm leading-5 text-neutral-600 max-w-[450px] text-center\">\r\n                        <span>**Photo Guidelines:**</span>  Ensure good lighting, full body visibility, and a neutral background for best analysis results. Supported formats: JPG, PNG. Max size: 10MB.\r\n                    </p>\r\n                </div>\r\n                <button disabled={isPending ? true : false} onClick={() => {\r\n                    if (file) mutate(file);\r\n                }} className={`button-green w-full disabled:bg-neutral-800 ${isPending ? \"!bg-neutral-700 !cursor-auto\" : \"\"}`}>{isPending ? \"Processing\" : \"Proceed to Analysis\"}</button>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default UploadPhoto  "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;;;AAJA;;;;AAMA,MAAM,cAAc;QAAC,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAoN;;IAC9R,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2CAAE,CAAC;YACxB,IAAI,cAAc,MAAM,GAAG,GAAG;gBAC1B,YAAY,aAAa,CAAC,EAAE,CAAC,IAAI;gBACjC,QAAQ,aAAa,CAAC,EAAE;YAC5B;QACJ;0CAAG,EAAE;IACL,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,cAAW,AAAD,EAAE;QAAE;IAAO;IAC3E,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAAmB;;;;;;8BAEjC,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,6LAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAGtD,6LAAC;4BACI,GAAG,cAAc;4BAClB,WAAW,AAAC,2BAAsD,OAA5B,YAAY,aAAa,IAAG;;8CAElE,6LAAC;oCAAO,GAAG,eAAe;;;;;;gCACzB,CAAC,0BAAY;;wCAAE;sDAAC,6LAAC;4CAAI,WAAU;;8DAC5B,6LAAC,6MAAA,CAAA,aAAU;oDAAC,WAAU;oDAA0B,MAAM;;;;;;8DACtD,6LAAC;oDAAE,WAAU;8DACR,eAAe,0BAA0B;;;;;;8DAE9C,6LAAC;oDAAK,WAAU;8DAA0C;;;;;;8DAC1D,6LAAC;oDACG,MAAK;oDACL,WAAU;8DACb;;;;;;gDAGA,0BACG,6LAAC;oDAAE,WAAY;;wDAA8B;wDAAW;;;;;;;;;;;;;;iEAEpD,6LAAC;oCAAI,WAAU;8CAA2B,cAAA,6LAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;sCAIzE,6LAAC;4BAAE,WAAU;;8CACT,6LAAC;8CAAK;;;;;;gCAA4B;;;;;;;;;;;;;8BAG1C,6LAAC;oBAAO,UAAU,YAAY,OAAO;oBAAO,SAAS;wBACjD,IAAI,MAAM,OAAO;oBACrB;oBAAG,WAAW,AAAC,+CAA8F,OAAhD,YAAY,iCAAiC;8BAAO,YAAY,eAAe;;;;;;;;;;;;;;;;;AAI5J;GArDM;;QAOoD,2KAAA,CAAA,cAAW;;;KAP/D;uCAuDS","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/utils/report.ts"],"sourcesContent":["import { api } from \"@/api/axiosInstance\";\r\n\r\nexport const reportExtractFunc = async(report:string) => {\r\n    const regex = /```json\\s([\\s\\S]+?)```/;  \r\n    const match = report.match(regex);\r\n    if (!match) return null;\r\n    try{\r\n    await api.post(`/api/fitness-plan/reports`,{data:JSON.parse(match[1])});\r\n    console.log(\"Report created!\");\r\n    }catch(err){\r\n        console.error(err);\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,oBAAoB,OAAM;IACnC,MAAM,QAAQ;IACd,MAAM,QAAQ,OAAO,KAAK,CAAC;IAC3B,IAAI,CAAC,OAAO,OAAO;IACnB,IAAG;QACH,MAAM,8HAAA,CAAA,MAAG,CAAC,IAAI,CAAE,6BAA2B;YAAC,MAAK,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE;QAAC;QACrE,QAAQ,GAAG,CAAC;IACZ,EAAC,OAAM,KAAI;QACP,QAAQ,KAAK,CAAC;IAClB;AACJ","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/app/%28main%29/ai-analysis/page.tsx"],"sourcesContent":["'use client';\r\nimport AnalyzedResults from '@/components/ai-analysis/AnalyzedResults';\r\nimport UploadPhoto from '@/components/ai-analysis/UploadPhoto';\r\nimport { useAppSelector } from '@/hooks/reduxHooks';\r\nimport { reportExtractFunc } from '@/utils/report';\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\nconst Page = () => {\r\n    const [fileName, setFileName] = useState('');\r\n    const [file, setFile] = useState<File | null>(null);\r\n    const { user } = useAppSelector(state => state.auth)\r\n\r\n\r\n    const [isAnalyzed, setIsAnalyzed] = useState<boolean>(false);\r\n    const sendPhoto = async (file: File) => {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", file);\r\n        console.log(\"sdad1\")\r\n        console.log(\"user\", user);\r\n        const userInfo = {\r\n            height: user?.metrics.height,\r\n            weight: user?.metrics.weight,\r\n            targetWeight: user?.targetWeight,\r\n            primaryFitnessGoal: user?.primaryFitnessGoal,\r\n            fitnessLevel: user?.fitnessLevel,\r\n        }\r\n        console.log(\"sdad2\")\r\n\r\n        formData.append(\"userInfo\", JSON.stringify(userInfo));\r\n        const res = await axios.post(\"http://127.0.0.1:8000/api\", formData, {\r\n            withCredentials: true,\r\n            headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        });\r\n        console.log(\"gello3\");\r\n\r\n        return res.data;\r\n    }\r\n\r\n\r\n    const mutation = useMutation({\r\n        mutationFn: sendPhoto,\r\n        onSuccess: async (data) => {\r\n            setIsAnalyzed(true);\r\n            try {\r\n                await reportExtractFunc(data.AIreport);\r\n            console.log(\"dasd\");\r\n\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n            console.dir(data, { depth: null });\r\n        },\r\n\r\n    })\r\n    return (\r\n\r\n        <div className=\"\">\r\n            {!isAnalyzed ? <UploadPhoto isPending={mutation.isPending} file={file} fileName={fileName} setFile={setFile} mutate={mutation.mutate} setFileName={setFileName} />\r\n                :\r\n                <AnalyzedResults />\r\n            }\r\n        </div>\r\n    );\r\n}\r\nexport default Page;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;AASA,MAAM,OAAO;;IACT,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD;+BAAE,CAAA,QAAS,MAAM,IAAI;;IAGnD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IACtD,MAAM,YAAY,OAAO;QACrB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QACzB,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,QAAQ;QACpB,MAAM,WAAW;YACb,MAAM,EAAE,iBAAA,2BAAA,KAAM,OAAO,CAAC,MAAM;YAC5B,MAAM,EAAE,iBAAA,2BAAA,KAAM,OAAO,CAAC,MAAM;YAC5B,YAAY,EAAE,iBAAA,2BAAA,KAAM,YAAY;YAChC,kBAAkB,EAAE,iBAAA,2BAAA,KAAM,kBAAkB;YAC5C,YAAY,EAAE,iBAAA,2BAAA,KAAM,YAAY;QACpC;QACA,QAAQ,GAAG,CAAC;QAEZ,SAAS,MAAM,CAAC,YAAY,KAAK,SAAS,CAAC;QAC3C,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,6BAA6B,UAAU;YAChE,iBAAiB;YACjB,SAAS;gBAAE,gBAAgB;YAAsB;QACrD;QACA,QAAQ,GAAG,CAAC;QAEZ,OAAO,IAAI,IAAI;IACnB;IAGA,MAAM,WAAW,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACzB,YAAY;QACZ,SAAS;0CAAE,OAAO;gBACd,cAAc;gBACd,IAAI;oBACA,MAAM,CAAA,GAAA,yHAAA,CAAA,oBAAiB,AAAD,EAAE,KAAK,QAAQ;oBACzC,QAAQ,GAAG,CAAC;gBAEZ,EAAE,OAAO,KAAK;oBACV,QAAQ,KAAK,CAAC;gBAClB;gBACA,QAAQ,GAAG,CAAC,MAAM;oBAAE,OAAO;gBAAK;YACpC;;IAEJ;IACA,qBAEI,6LAAC;QAAI,WAAU;kBACV,CAAC,2BAAa,6LAAC,sJAAA,CAAA,UAAW;YAAC,WAAW,SAAS,SAAS;YAAE,MAAM;YAAM,UAAU;YAAU,SAAS;YAAS,QAAQ,SAAS,MAAM;YAAE,aAAa;;;;;qEAE/I,6LAAC,0JAAA,CAAA,UAAe;;;;;;;;;;AAIhC;GAxDM;;QAGe,6HAAA,CAAA,iBAAc;QA6Bd,iLAAA,CAAA,cAAW;;;KAhC1B;uCAyDS","debugId":null}}]
}