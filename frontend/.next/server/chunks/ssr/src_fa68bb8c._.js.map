{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/ai-analysis/AnalyzedResults.tsx"],"sourcesContent":["\"use client\"\r\nimport { api } from \"@/api/axiosInstance\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport Image from \"next/image\"\r\nimport { useRouter } from \"next/navigation\";\r\nimport { CartesianGrid, Legend, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\n\r\ninterface IReceivedAnalysis {\r\n  weight: { data: number, difference: number | null },\r\n  chartData:{month:string,bodyFatPercent:number}[],\r\n  leanBodyMass: { data: number, difference: number | null },\r\n  bodyFatPercent: { data: number, difference: number | null },\r\n  MuscleMass: { data: number, difference: number | null },\r\n  bmi: { data: number, difference: number | null },\r\n  imageUrlCurrent: string,\r\n  imageUrlLast: string | null,\r\n  waistToHipRatio: { data: number, difference: number | null },\r\n  advices: {\r\n    nutrition: string;\r\n    hydration: string;\r\n    recovery: string;\r\n    progress: string;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nconst AnalyzedResults = ({ data }: { data: IReceivedAnalysis }) => {\r\n  const router = useRouter();\r\n  const retakePhoto = async ()=>{\r\n  const res = await api.delete(\"/api/fitness-plan/plan\");\r\n  return res.data;\r\n}\r\nconst retakePhotoMutation = useMutation({\r\n  mutationFn:retakePhoto,\r\n  onSuccess:()=>{\r\n    router.refresh();\r\n  }\r\n})\r\n  return (\r\n    <div className=\"flex flex-col gap-10\">\r\n      <h1 className=\"page-title\">AI Photo Analysis: Analyzing Results</h1>\r\n      <div className=\"flex flex-col gap-6\">\r\n        <div className=\"bg-white rounded-[10px] _border p-6\">\r\n          <div className=\"flex flex-col gap-1.5 mb-6\">\r\n            <h2 className=\"section-title\">Photo Analysis Comparison</h2>\r\n            <p className=\"leading-5 text-sm text-neutral-600\">See the visual changes between your previous and latest fitness photos.</p>\r\n          </div>\r\n          {/* image */}\r\n          {\r\n            data.imageUrlLast !== data.imageUrlCurrent && data.imageUrlLast ?\r\n              <div className=\" flex justify-between\">\r\n                <div className=\"flex gap-2 justify-center flex-col text-center\">\r\n                  <h3 className=\"text-xl leading-7 font-semibold text-neutral-900 font-outfit\">Before</h3>\r\n                  <Image className=\"rounded-[10px] \" src={`${data.imageUrlCurrent}`} width={267} height={400} alt=\"body image\" />\r\n                </div>\r\n                <div className=\"flex gap-2 justify-cente flex-col text-center\">\r\n                  <h3 className=\"text-xl leading-7 font-semibold text-neutral-900 font-outfit\">After</h3>\r\n                  <Image className=\"rounded-[10px] \" src={`${data.imageUrlLast}`} width={267} height={400} alt=\"body image\" />\r\n                </div>\r\n              </div> : <div className=\" flex justify-center\">\r\n                <div className=\"flex gap-2 justify-center flex-col text-center\">\r\n                  <h3 className=\"text-xl leading-7 font-semibold text-neutral-900 font-outfit\">Current form</h3>\r\n                  <Image className=\"rounded-[10px] \" src={`${data.imageUrlCurrent}`} width={267} height={400} alt=\"body image\" />\r\n                </div>\r\n\r\n              </div>\r\n          }\r\n\r\n        </div>\r\n        {/* metrics */}\r\n        <div className=\"grid grid-cols-3 gap-6\">\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">Body Fat %</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.bodyFatPercent.data}%</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.bodyFatPercent.difference && data.bodyFatPercent.difference < 0 ? \"text-red\" : \"text-green\"} `}>{data.bodyFatPercent.difference ? data.bodyFatPercent.difference > 0 ? \"+\" + data.bodyFatPercent.difference : data.bodyFatPercent.difference : \"+\" + 0}%</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">Muscle Mass</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.MuscleMass.data} kg</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.MuscleMass.difference && data.MuscleMass.difference < 0 ? \"text-red\" : \"text-black\"} `}>{data.MuscleMass.difference ? data.MuscleMass.difference > 0 ? \"+\" + data.MuscleMass.difference : data.MuscleMass.difference : \"+\" + 0} kg</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">BMI</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.bmi.data}</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.bmi.difference && data.bmi.difference < 0 ? \"text-red\" : \"text-green\"} `}>{data.bmi.difference ? data.bmi.difference > 0 ? \"+\" + data.bmi.difference : data.bmi.difference : \"+\" + 0}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">Waist-to-Hip Ratio</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.waistToHipRatio.data}</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.waistToHipRatio.difference && data.waistToHipRatio.difference < 0 ? \"text-red\" : \"text-green\"} `}>{data.waistToHipRatio.difference ? data.waistToHipRatio.difference > 0 ? \"+\" + data.waistToHipRatio.difference : data.waistToHipRatio.difference : \"+\" + 0}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">Body Weight</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.weight.data} kg</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.weight.difference && data.weight.difference < 0 ? \"text-red\" : \"text-green\"} `}>{data.weight.difference ? data.weight.difference > 0 ? \"+\" + data.weight.difference : data.weight.difference : \"+\" + 0} kg</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-8 p-6 _border rounded-[10px] bg-white flex flex-col gap-4 font-outfit\">\r\n            <h3 className=\"text-lg leading-7 font-medium text-neutral-600\">Lean Body Mass</h3>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-4xl leading-10 font-bold text-black\">{data.leanBodyMass.data} kg</span>\r\n              <span className={`tex-sm leading-5 font-semibold ${data.leanBodyMass.difference && data.leanBodyMass.difference < 0 ? \"text-red\" : \"text-black\"} `}>{data.leanBodyMass.difference ? data.leanBodyMass.difference > 0 ? \"+\" + data.leanBodyMass.difference : data.leanBodyMass.difference : \"+\" + 0} kg</span>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div className=\"bg-white rounded-[10px] _border p-6\">\r\n          <div className=\"flex flex-col gap-1.5 mb-6\">\r\n            <h2 className=\"section-title\">AI-Powered Insights & Recommendations</h2>\r\n            <p className=\"text-sm leading-5 text-neutral-600\">Detailed analysis and personalized advice based on your fitness photo.</p>\r\n          </div>\r\n          <div className=\"flex flex-col gap-5.5\">\r\n            <div className=\"\">\r\n              <h3 className=\"text-xl leading-7 font-semibold font-outfit mb-2.5\">Hydrationüíß</h3>\r\n              <p className=\"leading-[26px] text-neutral-900\">{data.advices.hydration}</p>\r\n            </div>\r\n            <div className=\"\">\r\n              <h3 className=\"text-xl leading-7 font-semibold font-outfit mb-2.5\">Nutritionüçì</h3>\r\n              <p className=\"leading-[26px] text-neutral-900\">{data.advices.nutrition}</p>\r\n            </div>\r\n            <div className=\"\">\r\n              <h3 className=\"text-xl leading-7 font-semibold font-outfit mb-2.5\">Progressüìà</h3>\r\n              <p className=\"leading-[26px] text-neutral-900\">{data.advices.progress}</p>\r\n            </div>\r\n            <div className=\"\">\r\n              <h3 className=\"text-xl leading-7 font-semibold font-outfit mb-2.5\">Recoveryüò™</h3>\r\n              <p className=\"leading-[26px] text-neutral-900\">{data.advices.recovery}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-[10px] _border p-6 mb-3.5\">\r\n          <div className=\"flex flex-col gap-1.5 mb-6\">\r\n            <h2 className=\"section-title\">Body Fat Percentage Trend</h2>\r\n            <p className=\"text-sm leading-5 text-neutral-600\">Visualizing your body fat percentage changes over the past 6 months.</p>\r\n          </div>\r\n          <ResponsiveContainer width=\"100%\" height={350}>\r\n            <LineChart data={data.chartData}>\r\n              <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"month\" />\r\n              <YAxis dataKey=\"bodyFatPercent\" domain={['auto', 'auto']} />\r\n              <Tooltip />\r\n              <Legend  />\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"Body Fat (%)\"\r\n                stroke=\"#22c55e\"\r\n                dot={{ stroke: \"#22c55e\", strokeWidth: 2, r: 4 }}\r\n                activeDot={{ r: 6 }}\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n        <div className=\"flex items-center justify-end gap-4 max-w-[272px] ml-auto w-full\">\r\n          <button onClick={()=>retakePhotoMutation.mutate()} className=\"button-transparent !bg-white\">Retake Photo</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AnalyzedResults"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/ai-analysis/UploadPhoto.tsx"],"sourcesContent":["\"use client\"\r\nimport { UseMutateFunction } from '@tanstack/react-query';\r\nimport { UploadIcon } from 'lucide-react';\r\nimport { Dispatch, SetStateAction, useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nconst UploadPhoto = ({ isPending, setFileName, fileName, setFile, file, mutate }: { mutate: UseMutateFunction<any, unknown, File, unknown>, isPending: boolean, setFileName: Dispatch<SetStateAction<string>>, fileName: string, setFile: Dispatch<SetStateAction<File | null>>, file: File | null }) => {\r\n    const onDrop = useCallback((acceptedFiles: File[]) => {\r\n        if (acceptedFiles.length > 0) {\r\n            setFileName(acceptedFiles[0].name);\r\n            setFile(acceptedFiles[0]);\r\n        }\r\n    }, []);\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center \">\r\n            <div className=\"w-[900px] text-center\">\r\n                <h1 className='page-title mb-10'>AI Photo Analysis - Upload</h1>\r\n\r\n                <div className=\"_border rounded-[10px] p-12 items-center flex flex-col mb-4    bg-white\">\r\n                    <div className=\"flex flex-col text-center gap-2 max-w-[520px] w-full mb-10\">\r\n                        <h2 className='section-title'>Upload Your Fitness Photo</h2>\r\n                        <p className='text-sm leading-5 text-neutral-600'>Drag and drop your fitness photo here, or click to select a file. Our AI will analyze your progress and provide insights.</p>\r\n                    </div>\r\n\r\n                    <div\r\n                        {...getRootProps()}\r\n                        className={` border-2 border-dashed ${isPending ? \"skeleton\" : \"\"}  border-neutral-600 outline-0 rounded-[10px] max-w-[800px] w-full h-[288px] px-10 py-[50px] mb-[25px] text-center cursor-pointer transition hover:border-green`}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        {!isPending ? <> <div className=\"flex flex-col items-center justify-center\">\r\n                            <UploadIcon className='text-neutral-600 mb-4.5' size={64} />\r\n                            <p className=\"text-neutral-600 font-medium\">\r\n                                {isDragActive ? 'Drop the file here...' : 'Drag and drop your photo here'}\r\n                            </p>\r\n                            <span className=\"text-sm leading-5 mt-2 text-neutral-600\">‚Äì or ‚Äì</span>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"mt-4 inline-flex items-center p-2.5 border border-neutral-300 cursor-pointer text-sm font-medium rounded-md text-neutral-900 leading-5.5 bg-transparent hover:bg-gray-100\"\r\n                            >\r\n                                Browse Files\r\n                            </button>\r\n                            {fileName && (\r\n                                <p className={`mt-4 text-sm text-green-500`}>Selected: {fileName}</p>\r\n                            )}\r\n                        </div></> : <div className=\"h-full flex items-center\"><div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-green border-solid mx-auto  \"></div></div>}\r\n\r\n                    </div>\r\n\r\n                    <p className=\"text-sm leading-5 text-neutral-600 max-w-[450px] text-center\">\r\n                        <span>**Photo Guidelines:**</span>  Ensure good lighting, full body visibility, and a neutral background for best analysis results. Supported formats: JPG, PNG. Max size: 10MB.\r\n                    </p>\r\n                </div>\r\n                <button disabled={isPending ? true : false} onClick={() => {\r\n                    if (file) mutate(file);\r\n                }} className={`button-green w-full disabled:bg-neutral-800 ${isPending ? \"!bg-neutral-700 !cursor-auto\" : \"\"}`}>{isPending ? \"Processing\" : \"Proceed to Analysis\"}</button>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default UploadPhoto  "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMA,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAsN;IAChS,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACxB,IAAI,cAAc,MAAM,GAAG,GAAG;YAC1B,YAAY,aAAa,CAAC,EAAE,CAAC,IAAI;YACjC,QAAQ,aAAa,CAAC,EAAE;QAC5B;IACJ,GAAG,EAAE;IACL,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,wKAAA,CAAA,cAAW,AAAD,EAAE;QAAE;IAAO;IAE3E,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAAmB;;;;;;8BAEjC,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,8OAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAGtD,8OAAC;4BACI,GAAG,cAAc;4BAClB,WAAW,CAAC,wBAAwB,EAAE,YAAY,aAAa,GAAG,+JAA+J,CAAC;;8CAElO,8OAAC;oCAAO,GAAG,eAAe;;;;;;gCACzB,CAAC,0BAAY;;wCAAE;sDAAC,8OAAC;4CAAI,WAAU;;8DAC5B,8OAAC,0MAAA,CAAA,aAAU;oDAAC,WAAU;oDAA0B,MAAM;;;;;;8DACtD,8OAAC;oDAAE,WAAU;8DACR,eAAe,0BAA0B;;;;;;8DAE9C,8OAAC;oDAAK,WAAU;8DAA0C;;;;;;8DAC1D,8OAAC;oDACG,MAAK;oDACL,WAAU;8DACb;;;;;;gDAGA,0BACG,8OAAC;oDAAE,WAAW,CAAC,2BAA2B,CAAC;;wDAAE;wDAAW;;;;;;;;;;;;;;iEAEpD,8OAAC;oCAAI,WAAU;8CAA2B,cAAA,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;sCAIzE,8OAAC;4BAAE,WAAU;;8CACT,8OAAC;8CAAK;;;;;;gCAA4B;;;;;;;;;;;;;8BAG1C,8OAAC;oBAAO,UAAU,YAAY,OAAO;oBAAO,SAAS;wBACjD,IAAI,MAAM,OAAO;oBACrB;oBAAG,WAAW,CAAC,4CAA4C,EAAE,YAAY,iCAAiC,IAAI;8BAAG,YAAY,eAAe;;;;;;;;;;;;;;;;;AAI5J;uCAEe","debugId":null}},
    {"offset": {"line": 957, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/utils/report.ts"],"sourcesContent":["import { api } from \"@/api/axiosInstance\";\r\n\r\ntype AiDataType = {\r\n    AIreport: string,\r\n    imageUrl: string,\r\n}\r\n\r\nexport const reportExtractFunc = async (data: AiDataType, method: \"nutrition\" | \"fitness\") => {\r\n    const regex = /```json\\s([\\s\\S]+?)```/;\r\n    let match = data.AIreport.match(regex);\r\n    try {\r\n        if (method == \"nutrition\") {\r\n            await api.post(`/api/nutrition-plan/nutrition-plans`, { data: match ? JSON.parse(match[1]) : JSON.parse(data.AIreport) });\r\n        } else {\r\n            await api.post(`/api/fitness-plan/reports`, { data: match ? JSON.parse(match[1]) : JSON.parse(data.AIreport), imageUrl: data.imageUrl });\r\n\r\n        }\r\n        console.log(\"Report created!\");\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}   "],"names":[],"mappings":";;;AAAA;;AAOO,MAAM,oBAAoB,OAAO,MAAkB;IACtD,MAAM,QAAQ;IACd,IAAI,QAAQ,KAAK,QAAQ,CAAC,KAAK,CAAC;IAChC,IAAI;QACA,IAAI,UAAU,aAAa;YACvB,MAAM,2HAAA,CAAA,MAAG,CAAC,IAAI,CAAC,CAAC,mCAAmC,CAAC,EAAE;gBAAE,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,KAAK,KAAK,CAAC,KAAK,QAAQ;YAAE;QAC3H,OAAO;YACH,MAAM,2HAAA,CAAA,MAAG,CAAC,IAAI,CAAC,CAAC,yBAAyB,CAAC,EAAE;gBAAE,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,KAAK,KAAK,CAAC,KAAK,QAAQ;gBAAG,UAAU,KAAK,QAAQ;YAAC;QAE1I;QACA,QAAQ,GAAG,CAAC;IAChB,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC;IAClB;AACJ","debugId":null}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/app/%28main%29/ai-analysis/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { api } from '@/api/axiosInstance';\r\nimport AnalyzedResults from '@/components/ai-analysis/AnalyzedResults';\r\nimport UploadPhoto from '@/components/ai-analysis/UploadPhoto';\r\nimport { useAppSelector } from '@/hooks/reduxHooks';\r\nimport { reportExtractFunc } from '@/utils/report';\r\nimport { useMutation, useQuery } from '@tanstack/react-query';\r\nimport axios, { isAxiosError } from 'axios';\r\nimport { useState } from 'react';\r\n\r\nconst Page = () => {\r\n    const [fileName, setFileName] = useState('');\r\n    const [file, setFile] = useState<File | null>(null);\r\n    const { user } = useAppSelector(state => state.auth)\r\n\r\n\r\n    const [isAnalyzed, setIsAnalyzed] = useState<boolean>(false);\r\n    const sendPhoto = async (file: File) => {\r\n        const formData = new FormData();\r\n        if (!user) {\r\n            return null;\r\n        }\r\n        formData.append(\"image\", file);\r\n        const userInfo = {\r\n            height: user.metrics.height,\r\n            weight: user.metrics.weight,\r\n            targetWeight: user.targetWeight,\r\n            primaryFitnessGoal: user.primaryFitnessGoal,\r\n            fitnessLevel: user.fitnessLevel,\r\n            gender: user.gender,\r\n        }\r\n\r\n        formData.append(\"userInfo\", JSON.stringify(userInfo));\r\n        const res = await axios.post(\"http://127.0.0.1:8000/api/photo-analyze\", formData, {\r\n            withCredentials: true,\r\n            headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        });\r\n\r\n        return res.data;\r\n    }\r\n\r\n\r\n    const mutation = useMutation({\r\n        mutationFn: sendPhoto,\r\n        onSuccess: async (data) => {\r\n            setIsAnalyzed(true);\r\n            await reportExtractFunc(data,\"fitness\");\r\n\r\n        },\r\n        onError: (err: unknown) => {\r\n            if (isAxiosError(err) && err.response) {\r\n                console.error(err.response.data);\r\n            }\r\n        }\r\n\r\n    })\r\n\r\n    const getAnalysis = async () => {\r\n        const res = await api.get(\"api/fitness-plan/analysis\");\r\n        return res.data;\r\n    }\r\n\r\n\r\n    const { data } = useQuery({\r\n        queryKey: [\"getAnalysis\"],\r\n        queryFn: getAnalysis,\r\n\r\n\r\n    })\r\n    return (\r\n\r\n        <div className=\"\">\r\n            {(!data?.advices && !isAnalyzed) ? <UploadPhoto isPending={mutation.isPending} file={file} fileName={fileName} setFile={setFile} mutate={mutation.mutate} setFileName={setFileName} />\r\n                :\r\n                <AnalyzedResults data={data} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\nexport default Page;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AARA;;;;;;;;;;AAUA,MAAM,OAAO;IACT,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,iBAAc,AAAD,EAAE,CAAA,QAAS,MAAM,IAAI;IAGnD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IACtD,MAAM,YAAY,OAAO;QACrB,MAAM,WAAW,IAAI;QACrB,IAAI,CAAC,MAAM;YACP,OAAO;QACX;QACA,SAAS,MAAM,CAAC,SAAS;QACzB,MAAM,WAAW;YACb,QAAQ,KAAK,OAAO,CAAC,MAAM;YAC3B,QAAQ,KAAK,OAAO,CAAC,MAAM;YAC3B,cAAc,KAAK,YAAY;YAC/B,oBAAoB,KAAK,kBAAkB;YAC3C,cAAc,KAAK,YAAY;YAC/B,QAAQ,KAAK,MAAM;QACvB;QAEA,SAAS,MAAM,CAAC,YAAY,KAAK,SAAS,CAAC;QAC3C,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,2CAA2C,UAAU;YAC9E,iBAAiB;YACjB,SAAS;gBAAE,gBAAgB;YAAsB;QACrD;QAEA,OAAO,IAAI,IAAI;IACnB;IAGA,MAAM,WAAW,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAAE;QACzB,YAAY;QACZ,WAAW,OAAO;YACd,cAAc;YACd,MAAM,CAAA,GAAA,sHAAA,CAAA,oBAAiB,AAAD,EAAE,MAAK;QAEjC;QACA,SAAS,CAAC;YACN,IAAI,CAAA,GAAA,8IAAA,CAAA,eAAY,AAAD,EAAE,QAAQ,IAAI,QAAQ,EAAE;gBACnC,QAAQ,KAAK,CAAC,IAAI,QAAQ,CAAC,IAAI;YACnC;QACJ;IAEJ;IAEA,MAAM,cAAc;QAChB,MAAM,MAAM,MAAM,2HAAA,CAAA,MAAG,CAAC,GAAG,CAAC;QAC1B,OAAO,IAAI,IAAI;IACnB;IAGA,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QACtB,UAAU;YAAC;SAAc;QACzB,SAAS;IAGb;IACA,qBAEI,8OAAC;QAAI,WAAU;kBACV,AAAC,CAAC,MAAM,WAAW,CAAC,2BAAc,8OAAC,mJAAA,CAAA,UAAW;YAAC,WAAW,SAAS,SAAS;YAAE,MAAM;YAAM,UAAU;YAAU,SAAS;YAAS,QAAQ,SAAS,MAAM;YAAE,aAAa;;;;;qEAEnK,8OAAC,uJAAA,CAAA,UAAe;YAAC,MAAM;;;;;;;;;;;AAIvC;uCACe","debugId":null}}]
}