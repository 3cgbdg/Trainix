{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/api/profile.ts"],"sourcesContent":["import { isAxiosError } from \"axios\";\r\nimport { api } from \"./axiosInstance\";\r\nimport { Dispatch, SetStateAction } from \"react\";\r\n\r\nexport  const updateProfile = async (payload: Object, setError: Dispatch<SetStateAction<string | null>>) => {\r\n    try {\r\n        const res = await api.patch(\"/api/auth/profile\",payload);\r\n        console.log(\"niger\");\r\n        return res.data;\r\n\r\n    } catch (err) {\r\n        if (isAxiosError(err) && err.response) {\r\n            setError(err.response.data.message);\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAGQ,MAAM,gBAAgB,OAAO,SAAiB;IAClD,IAAI;QACA,MAAM,MAAM,MAAM,2HAAA,CAAA,MAAG,CAAC,KAAK,CAAC,qBAAoB;QAChD,QAAQ,GAAG,CAAC;QACZ,OAAO,IAAI,IAAI;IAEnB,EAAE,OAAO,KAAK;QACV,IAAI,CAAA,GAAA,8IAAA,CAAA,eAAY,AAAD,EAAE,QAAQ,IAAI,QAAQ,EAAE;YACnC,SAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;QACtC;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/profile/AccountSettings.tsx"],"sourcesContent":["\"use client\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { IUser } from \"@/types/types\";\r\nimport { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\nimport { Check, Lock, SquarePen } from \"lucide-react\";\r\nimport { updateProfile } from \"@/api/profile\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { api } from \"@/api/axiosInstance\";\r\n\r\ntype formType = {\r\n  password: string,\r\n  newPassword: string,\r\n  newPasswordAgain: string,\r\n  emailNotifications: boolean,\r\n  inAppNotifications: boolean,\r\n}\r\n\r\nconst AccountSettings = ({ user, setEditing, editing }: { user: IUser, editing: string | null, setEditing: Dispatch<SetStateAction<\"password\" | \"personal\" | \"goals\" | null>> }) => {\r\n  const { register, formState: { errors }, handleSubmit, reset, watch } = useForm<formType>({});\r\n  const [emailNotifsEnabled, setEmailNotifsEnabled] = useState<boolean | null>(null);\r\n  const [inAppNotifsEnabled, setInAppNotifsEnabled] = useState<boolean | null>(null);\r\n  const [error, setError] = useState<null | string>(null);\r\n  const router = useRouter();\r\n  // form request func\r\n  const handleSave = handleSubmit(async (data) => {\r\n    // Partial - for unnessasary fields\r\n    const payload: Partial<formType> = {};\r\n    if (data.newPassword && data.newPassword === data.newPasswordAgain && data.password) {\r\n      payload.password = data.password;\r\n      payload.newPassword = data.newPassword;\r\n      payload.newPasswordAgain = data.newPasswordAgain;\r\n    }\r\n\r\n    // if nothing has changed returning;\r\n    if (Object.keys(payload).length === 0) {\r\n      setEditing(null);\r\n      return;\r\n\r\n    }\r\n\r\n    const res = await updateProfile(payload, setError);\r\n    if (!res) return;\r\n    setEditing(null);\r\n    reset();\r\n    setError(null);\r\n  }\r\n  )\r\n  \r\n  // starting value of switchers\r\n  useEffect(() => {\r\n    if (user) {\r\n      setEmailNotifsEnabled(user.emailNotifications);\r\n      setInAppNotifsEnabled(user.inAppNotifications);\r\n    }\r\n  }, [user])\r\n\r\n  // requests for switchers\r\n  useEffect(() => {\r\n    if (emailNotifsEnabled === null || inAppNotifsEnabled === null) return;\r\n    const updateNotifications = async () => {\r\n      const payload: any = {};\r\n      if (inAppNotifsEnabled !== user.inAppNotifications) {\r\n        payload.inAppNotifications = inAppNotifsEnabled;\r\n      }\r\n\r\n      if (emailNotifsEnabled !== user.emailNotifications) {\r\n        payload.emailNotifications = emailNotifsEnabled;\r\n\r\n      }\r\n\r\n      if (Object.keys(payload).length > 0) {\r\n        await updateProfile(payload, setError);\r\n      }\r\n    };\r\n\r\n    updateNotifications();\r\n  }, [inAppNotifsEnabled, emailNotifsEnabled])\r\n\r\n  // mutatin delete account request\r\n  const mutation = useMutation({\r\n    mutationFn:async()=>await api.delete(\"/api/auth/profile\"),\r\n    onSuccess: () => router.push(\"/auth/login\"),\r\n\r\n  })\r\n\r\n  return (\r\n    <div className=\" rounded-[10px]  bg-white py-6 px-8 \">\r\n\r\n      <h2 className=\"section-title mb-6\">Account Settings</h2>\r\n      <div className=\"flex flex-col gap-6 mb-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"leading-3.5 font-medium \">Email Notifications</h3>\r\n          <button type=\"button\" onClick={() => { setEmailNotifsEnabled(!emailNotifsEnabled) }} className={`w-11 h-6  overflow-hidden relative flex items-center cursor-pointer _border rounded-xl p-0.5 ${!emailNotifsEnabled ? \"bg-white\" : \"bg-green\"}`}>\r\n            <div className={`bg-white w-5 h-5 border rounded-full  transform transition-transform duration-300 ${emailNotifsEnabled ? \"translate-x-4.5!\" : \"translate-x-0 bg-green!\"\r\n              }`}></div>\r\n          </button>\r\n        </div>\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"leading-3.5 font-medium \">In-App Notifications</h3>\r\n          <button type=\"button\" onClick={() => { setInAppNotifsEnabled(!inAppNotifsEnabled) }} className={`w-11 h-6  overflow-hidden relative flex items-center cursor-pointer _border rounded-xl p-0.5 ${!inAppNotifsEnabled ? \"bg-white\" : \"bg-green\"}`}>\r\n            <div className={`bg-white w-5 h-5 border rounded-full  transform transition-transform duration-300 ${inAppNotifsEnabled ? \"translate-x-4.5!\" : \"translate-x-0 bg-green!\"\r\n              }`}></div>\r\n          </button>\r\n        </div>\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"leading-3.5 font-medium\">Change Password</h3>\r\n          <button onClick={async () => {\r\n            setEditing(\"password\");\r\n            if (editing == \"password\") await handleSave();\r\n\r\n          }} type=\"button\" className=\"button-transparent inline-flex gap-4   hover:text-green! \">\r\n            {editing !== \"password\" ?\r\n              <>\r\n                <Lock className=\"\" size={16} />\r\n                <span className=\"text-sm font-medium\">Change Password</span>\r\n              </>\r\n              :\r\n              <>\r\n                <Check className=\"\" size={16} />\r\n                <span className=\"text-sm font-medium\">Save</span>\r\n              </>\r\n            }\r\n\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FORM FOR PASS CHANGING */}\r\n      {editing === \"password\" &&\r\n        <form className=\"py-4 border-t-[1px] border-neutral-700 mt-6\" >\r\n\r\n          <h2 className=\"section-title mb-6\">Password Management</h2>\r\n          <div className=\"grid sm:grid-cols-2 gap-x-4  gap-y-3.5 text-sm\">\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className=\"leading-3.5 font-medium\">Current Password</label>\r\n              <input className={`input px-3 py-2 ${!error && !errors.password ? \"\" : \"border-red-500!\"}  `}\r\n                type=\"password\"\r\n                {...register(\"password\", { validate: (value) => value == \"\" && watch(\"newPassword\") === \"\" || \"The field is required\" })}\r\n\r\n                disabled={editing !== \"password\"}\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className={`leading-3.5 font-medium `}>New Password</label>\r\n              <input className={`input px-3 py-2 ${!errors.newPassword && !error ? \"\" : \"border-red-500!\"}  `}\r\n                type=\"password\"\r\n                {...register(\"newPassword\", {\r\n                  validate: {\r\n                    password: (value) => /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(value) || value == \"\" || \"Password must have at least one lowercase, one uppercase, one digit and minimum 8 characters\",\r\n                  }\r\n                })}\r\n                disabled={editing !== \"password\"}\r\n              />\r\n              {errors.newPassword && (\r\n                <span data-testid='error' className=\"text-red-500 font-medium \">\r\n                  {errors.newPassword.message}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"flex flex-col gap-[10px] \">\r\n\r\n              <label className={`leading-3.5 font-medium `}>Confirm New Password</label>\r\n              <input className={`input px-3 py-2 ${!error ? \"\" : \"border-red-500!\"}`}\r\n                type=\"password\"\r\n                {...register(\"newPasswordAgain\", {\r\n                  validate: {\r\n                    isMatch: (value) => value === watch(\"newPassword\") || \"Passwords do not match!\"\r\n                  }\r\n                })}\r\n                disabled={editing !== \"password\"}\r\n              />\r\n      \r\n              {error && !errors.newPasswordAgain && (\r\n                <span data-testid='error' className=\"text-red-500 font-medium \">\r\n                  {error}\r\n                </span>\r\n              )}\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n\r\n\r\n        </form>\r\n      }\r\n      <div className=\" flex flex-col gap-2 border-t-[1px] border-neutral-700 pt-4\">\r\n        <button onClick={()=>mutation.mutate()} className=\"text-sm inline-flex  items-center w-40 justify-center leading-5.5 font-medium text-white bg-[#ed746eff] rounded-md p-2.5 transition-colors hover:bg-[#c52118ff] cursor-pointer\">Delete Account</button>\r\n        <p className=\"text-neutral-400\">This action is irreversible and will permanently delete your account and all data.</p>\r\n      </div>\r\n\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default AccountSettings"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/profile/GoalsInfoForm.tsx"],"sourcesContent":["\"use client\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { IUser } from \"@/types/types\";\r\nimport { Dispatch, SetStateAction, useState } from \"react\";\r\nimport { Check, SquarePen } from \"lucide-react\";\r\nimport { updateProfile } from \"@/api/profile\";\r\n\r\ntype formType = {\r\n\r\n  targetWeight: number,\r\n  fitnessLevel: \"Beginner\" | \"Intermediate\" | \"Advanced\",\r\n  primaryFitnessGoal: \"Lose weight\" | \"Gain muscle\" | \"Stay fit\" | \"Improve endurance\",\r\n}\r\n\r\nconst GoalsInfoForm = ({user,setEditing,editing}:{user:IUser,editing:string|null,setEditing:Dispatch<SetStateAction<\"personal\" | \"password\" | \"goals\" | null>>}) => {\r\n      const { register,  formState: { errors }, handleSubmit } = useForm<formType>({\r\n  });\r\n  const [error, setError] = useState<null | string>(null);\r\n\r\n\r\n  const handleSave = handleSubmit(async (data) => {\r\n    // Partial - for unnessasary fields\r\n  const payload: Partial<formType> = {};\r\n  Object.entries(data).forEach(([key, value]) => {\r\n    if (value !== null && value !== undefined) {\r\n      // @ts-ignore\r\n      payload[key] = value;\r\n    }\r\n  });\r\n    // checking if (changed)\r\n    setEditing(null);\r\n    // if nothing has changed returning;\r\n    if (Object.keys(payload).length === 0) return;\r\n\r\n    await updateProfile(payload, setError);\r\n\r\n  })\r\n  return (\r\n    <div className=\"flex flex-col gap-8  rounded-[10px]  bg-white py-6 px-8\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h2 className=\"section-title\">Fitness Goals</h2>\r\n          <div className=\"w-70  flex items-center gap-5\">\r\n            <button onClick={handleSave} disabled={editing !== \"goals\"} className=\"button-transparent w-[130px] btn p-2 disabled:bg-gray-500!  disabled:pointer-events-none  flex items-center gap-2\">\r\n              <Check size={16} />\r\n              Save\r\n            </button>\r\n            <button onClick={() => { setEditing(\"goals\") }} disabled={editing === \"goals\"} className=\"button-transparent w-[130px] btn p-2 disabled:bg-gray-500!  disabled:pointer-events-none flex items-center gap-2\">\r\n              <SquarePen size={16} />\r\n              Edit Details\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <form >\r\n          <div className=\"grid  grid-cols-2 gap-4  \">\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className=\"leading-3.5 font-medium\">Target Weight (kg)</label>\r\n              <input className=\"input px-3 py-2\"\r\n\r\n                defaultValue={user?.targetWeight}\r\n                {...register(\"targetWeight\", {})}\r\n                disabled={editing !== \"goals\"}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className=\"leading-3.5 font-medium\">Fitness Level</label>\r\n              <select defaultValue={user?.fitnessLevel} disabled={editing !== \"goals\"} id=\"fitnessLevel\" {...register(\"fitnessLevel\")} className=\"input px-3 py-2 cursor-pointer\">\r\n                <option value=\"Beginner\">Beginner</option>\r\n                <option value=\"Intermediate\">Intermediate</option>\r\n                <option value=\"Advanced\">Advanced</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className=\"leading-3.5 font-medium\">Goal Type</label>\r\n              <select defaultValue={user?.primaryFitnessGoal} disabled={editing !== \"goals\"} id=\"primaryFitnessGoal\" {...register(\"primaryFitnessGoal\")} className=\"input px-3 py-2 cursor-pointer\">\r\n                <option value=\"Lose weight\">Lose weight</option>\r\n                <option value=\"Gain muscle\">Gain muscle</option>\r\n                <option value=\"Stay fit\">Stay fit</option>\r\n                <option value=\"Improve endurance\">Improve endurance</option>\r\n              </select>\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default GoalsInfoForm"],"names":[],"mappings":";;;;AACA;AAEA;AACA;AAAA;AACA;AALA;;;;;;AAcA,MAAM,gBAAgB,CAAC,EAAC,IAAI,EAAC,UAAU,EAAC,OAAO,EAAgH;IACzJ,MAAM,EAAE,QAAQ,EAAG,WAAW,EAAE,MAAM,EAAE,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAY,CACjF;IACA,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAGlD,MAAM,aAAa,aAAa,OAAO;QACrC,mCAAmC;QACrC,MAAM,UAA6B,CAAC;QACpC,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;YACxC,IAAI,UAAU,QAAQ,UAAU,WAAW;gBACzC,aAAa;gBACb,OAAO,CAAC,IAAI,GAAG;YACjB;QACF;QACE,wBAAwB;QACxB,WAAW;QACX,oCAAoC;QACpC,IAAI,OAAO,IAAI,CAAC,SAAS,MAAM,KAAK,GAAG;QAEvC,MAAM,CAAA,GAAA,qHAAA,CAAA,gBAAa,AAAD,EAAE,SAAS;IAE/B;IACA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgB;;;;;;kCAC9B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,SAAS;gCAAY,UAAU,YAAY;gCAAS,WAAU;;kDACpE,8OAAC,oMAAA,CAAA,QAAK;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAGrB,8OAAC;gCAAO,SAAS;oCAAQ,WAAW;gCAAS;gCAAG,UAAU,YAAY;gCAAS,WAAU;;kDACvF,8OAAC,gNAAA,CAAA,YAAS;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;;;;;;;0BAK7B,8OAAC;0BACC,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAA0B;;;;;;8CAC3C,8OAAC;oCAAM,WAAU;oCAEf,cAAc,MAAM;oCACnB,GAAG,SAAS,gBAAgB,CAAC,EAAE;oCAChC,UAAU,YAAY;;;;;;;;;;;;sCAI1B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAA0B;;;;;;8CAC3C,8OAAC;oCAAO,cAAc,MAAM;oCAAc,UAAU,YAAY;oCAAS,IAAG;oCAAgB,GAAG,SAAS,eAAe;oCAAE,WAAU;;sDACjI,8OAAC;4CAAO,OAAM;sDAAW;;;;;;sDACzB,8OAAC;4CAAO,OAAM;sDAAe;;;;;;sDAC7B,8OAAC;4CAAO,OAAM;sDAAW;;;;;;;;;;;;;;;;;;sCAG7B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAA0B;;;;;;8CAC3C,8OAAC;oCAAO,cAAc,MAAM;oCAAoB,UAAU,YAAY;oCAAS,IAAG;oCAAsB,GAAG,SAAS,qBAAqB;oCAAE,WAAU;;sDACnJ,8OAAC;4CAAO,OAAM;sDAAc;;;;;;sDAC5B,8OAAC;4CAAO,OAAM;sDAAc;;;;;;sDAC5B,8OAAC;4CAAO,OAAM;sDAAW;;;;;;sDACzB,8OAAC;4CAAO,OAAM;sDAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD;uCAGe","debugId":null}},
    {"offset": {"line": 711, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/components/profile/PersonalInfoForm.tsx"],"sourcesContent":["\"use client\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { IUser } from \"@/types/types\";\r\nimport { Dispatch, SetStateAction, useState } from \"react\";\r\nimport { Check, SquarePen } from \"lucide-react\";\r\nimport { updateProfile } from \"@/api/profile\";\r\n\r\ntype formType = {\r\n  firstName: string,\r\n  lastName: string,\r\n  email: string,\r\n  gender: \"Male\" | \"Female\",\r\n  weight: number,\r\n  height: number,\r\n  dateOfBirth: Date,\r\n\r\n}\r\n\r\nconst PersonalInfoForm = ({ user, setEditing, editing }: { user: IUser, editing: string | null, setEditing: Dispatch<SetStateAction<\"personal\" | \"password\" | \"goals\" | null>> }) => {\r\n  const { register, formState: { errors }, handleSubmit } = useForm<formType>({\r\n  });\r\n  const [error, setError] = useState<null | string>(null);\r\n\r\n\r\n  const handleSave = handleSubmit(async (data) => {\r\n    // Partial - for unnessasary fields\r\n  const payload: Partial<formType> = {};\r\n  Object.entries(data).forEach(([key, value]) => {\r\n    if (value !== null && value !== undefined && value !== \"\") {\r\n      // @ts-ignore\r\n      payload[key] = value;\r\n    }\r\n  });\r\n    // checking if (changed)\r\n    setEditing(null);\r\n    // if nothing has changed returning;\r\n    if (Object.keys(payload).length === 0) return;\r\n\r\n    await updateProfile(payload, setError);\r\n\r\n  })\r\n  return (\r\n    <div className=\"flex flex-col gap-8  rounded-[10px]  bg-white py-6 px-8\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"section-title\">Personal Information</h2>\r\n        <div className=\"w-70  flex items-center gap-5\">\r\n          <button onClick={handleSave} disabled={editing !== \"personal\"} className=\"button-transparent w-[130px] btn p-2 disabled:bg-gray-500!  disabled:pointer-events-none  flex items-center gap-2\">\r\n            <Check size={16} />\r\n            Save\r\n          </button>\r\n          <button onClick={() => { setEditing(\"personal\") }} disabled={editing === \"personal\"} className=\"button-transparent w-[130px] btn p-2 disabled:bg-gray-500!  disabled:pointer-events-none flex items-center gap-2\">\r\n            <SquarePen size={16} />\r\n            Edit Details\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form >\r\n        <div className=\"grid  grid-cols-2 gap-4  \">\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">First Name</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.firstName}\r\n              {...register(\"firstName\", {})}\r\n              disabled={editing !== \"personal\"}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Last Name</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.lastName}\r\n              {...register(\"lastName\", {})}\r\n              disabled={editing !== \"personal\"}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Email Address</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.email || \"\"}\r\n              {...register(\"email\", {\r\n                validate: {\r\n                  // validating email format with regex\r\n                  isValidEmailForm: (value) => {\r\n                    if (!value) return true;\r\n                    return /^\\w+@\\w+\\.\\w{2,3}$/.test(value) || \"Wrong email format\";\r\n                  },\r\n                }\r\n              })}\r\n              disabled={editing !== \"personal\"}\r\n            />\r\n            {errors.email && (\r\n              <span className=\"text-red-500 font-medium \">\r\n                {errors.email.message}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Date of birth</label>\r\n            <input disabled={editing !== \"personal\"} defaultValue={user?.dateOfBirth ? new Date(user.dateOfBirth).toISOString().split(\"T\")[0] : undefined} {...register(\"dateOfBirth\", { required: \"Wrong age\" })} className=\"input w-full\" type=\"date\" min=\"1900-01-01\"\r\n              max=\"2018-12-31\" id=\"dateOfBirth\" />\r\n            {errors.dateOfBirth && (\r\n              <span data-testid='error' className=\"text-red-500 font-medium \">\r\n                {errors.dateOfBirth.message}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Gender</label>\r\n            <select defaultValue={user?.gender} disabled={editing !== \"personal\"} id=\"gender\" {...register(\"gender\")} className=\"input px-3 py-2 cursor-pointer\">\r\n              <option value=\"Male\">Male</option>\r\n              <option value=\"Female\">Female</option>\r\n            </select>\r\n\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Height (cm)</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.metrics.height}\r\n              {...register(\"height\", {\r\n                validate: {\r\n                  checkIfNum: (value) => !isNaN(Number(value)) || \"Must be a number\"\r\n                }\r\n              })}\r\n              disabled={editing !== \"personal\"}\r\n            />\r\n            {errors.height && (\r\n              <div className=\"\">{errors.height.message}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Weight (kg)</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.metrics.weight}\r\n              {...register(\"weight\", {\r\n                validate: {\r\n                  checkIfNum: (value) => !isNaN(Number(value)) || \"Must be a number\"\r\n                }\r\n              })}\r\n              disabled={editing !== \"personal\"}\r\n            />\r\n            {errors.weight && (\r\n              <div className=\"\">{errors.weight.message}</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonalInfoForm"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/Trainix/frontend/src/app/%28main%29/profile/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport AccountSettings from \"@/components/profile/AccountSettings\"\r\nimport GoalsInfoForm from \"@/components/profile/GoalsInfoForm\"\r\nimport PersonalInfoForm from \"@/components/profile/PersonalInfoForm\"\r\nimport { useAppSelector } from \"@/hooks/reduxHooks\"\r\nimport { Check, SquarePen, UserRound } from \"lucide-react\"\r\nimport Image from \"next/image\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\n\r\nconst Page = () => {\r\n  const { user } = useAppSelector(state => state.auth);\r\n\r\n  const [editing, setEditing] = useState<null | \"personal\" | \"password\" | \"goals\">(null);\r\n  const [isEquals, setIsEquals] = useState<boolean>(true);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(user);\r\n  }, [user])\r\n  return (<>\r\n    { user &&\r\n    <div className=\"flex flex-col gap-6\">\r\n      {/* banner */}\r\n      <div className=\"flex items-center gap-6 rounded-[10px]  bg-white py-4 px-8\">\r\n        <div className={`rounded-full overflow-hidden _border size-24 flex items-center justify-center bg-white ${user?.imageUrl ? \"\" : \" \"}`}>\r\n          {user?.imageUrl ? <Image className=\"\" width={96} height={96} src={user?.imageUrl} alt=\"user icon\" />\r\n            : <UserRound size={40} />}\r\n\r\n        </div>\r\n        <div className=\"flex flex-col gap-2\">\r\n          <h1 className=\"page-title\">{user?.firstName} {user?.lastName}</h1>\r\n          <p className=\"text-neutral-400\">Manage your personal information and preferences.</p>\r\n        </div>\r\n      </div>\r\n      <PersonalInfoForm user={user} editing={editing} setEditing={setEditing}/>\r\n      <GoalsInfoForm user={user} editing={editing} setEditing={setEditing}/>\r\n      <AccountSettings user={user}  editing={editing} setEditing={setEditing}/>\r\n\r\n    </div>}</>\r\n  )\r\n}\r\n\r\nexport default Page"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAaA,MAAM,OAAO;IACX,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,iBAAc,AAAD,EAAE,CAAA,QAAS,MAAM,IAAI;IAEnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA4C;IACjF,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAIlD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,QAAQ,GAAG,CAAC;IACd,GAAG;QAAC;KAAK;IACT,qBAAQ;kBACJ,sBACF,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAW,CAAC,uFAAuF,EAAE,MAAM,WAAW,KAAK,KAAK;sCAClI,MAAM,yBAAW,8OAAC,6HAAA,CAAA,UAAK;gCAAC,WAAU;gCAAG,OAAO;gCAAI,QAAQ;gCAAI,KAAK,MAAM;gCAAU,KAAI;;;;;yFAClF,8OAAC,gNAAA,CAAA,YAAS;gCAAC,MAAM;;;;;;;;;;;sCAGvB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;;wCAAc,MAAM;wCAAU;wCAAE,MAAM;;;;;;;8CACpD,8OAAC;oCAAE,WAAU;8CAAmB;;;;;;;;;;;;;;;;;;8BAGpC,8OAAC,iJAAA,CAAA,UAAgB;oBAAC,MAAM;oBAAM,SAAS;oBAAS,YAAY;;;;;;8BAC5D,8OAAC,8IAAA,CAAA,UAAa;oBAAC,MAAM;oBAAM,SAAS;oBAAS,YAAY;;;;;;8BACzD,8OAAC,gJAAA,CAAA,UAAe;oBAAC,MAAM;oBAAO,SAAS;oBAAS,YAAY;;;;;;;;;;;;;AAIlE;uCAEe","debugId":null}}]
}